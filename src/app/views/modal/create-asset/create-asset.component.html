<clr-modal [(clrModalOpen)]="opened" [clrModalStaticBackdrop]="true" [clrModalClosable]="false" [clrModalSize]="'m'">
  <div class="modal-title">
    <clr-icon shape="info"></clr-icon>
    Create New Asset
  </div>
  <inline-alert class="modal-title" (confirmEvt)="confirmCancel($event)"></inline-alert>
  <div class="modal-body body-format">
    <form #modalFrom="ngForm" class="clr-form clr-form-horizontal" (valuechange)="formValueChange($event)">
      <div class="clr-form-control select-form">
        <label class="required clr-control-label form-required">TYPE</label>
        <div class="clr-control-container">
          <select class="toolbar-select" name="contenttype" [(ngModel)]="formData.contentNM" required name="contenttype"
            id="contenttype" required>
            <option selected disabled>--select--</option>
            <option value="rest">Custom Datasource Config (Rest)</option>
            <option value="get">REST-API Endpoint (GET)</option>
          </select>
          <clr-icon class="clr-validate-icon" shape="exclamation-circle"></clr-icon>
        </div>
      </div>
      <div class="clr-form-control" *ngFor="let item of restForm" [hidden]="formData.contentNM !== 'rest'">
        <label class="required clr-control-label"
          [ngClass]="item.require?'form-required':''">{{item.text?.toUpperCase()}}</label>
        <div class="clr-control-container" [class.clr-error]='item.require && getValidationState(item.name!)'>
          <div class="clr-input-wrapper">
            <input [type]="item.type" class="clr-input enrollment-input" #usernameInput="ngModel" [name]="item.name!"
              [ngModel]="getFormModel(item.name!)" [placeholder]="item.placeholder" [id]="item.name!" size="30"
              (input)='handleValidation(item.name! , false) ' (blur)='handleValidation(item.name!, true)'
              [readOnly]="item.readonly == true"  [required]="item.require">
            <clr-icon class="clr-validate-icon" shape="exclamation-circle"></clr-icon>
            <clr-control-error *ngIf='item.require &&  getValidationState(item.name!)'>
              Input Your
              <ng-template [ngIf]="item?.placeholder != undefined">
                ( ex : {{item.placeholder}})
              </ng-template>
            </clr-control-error>
          </div>
        </div>
      </div>
      <div class="clr-form-control" *ngFor="let item of getForm" [hidden]="formData.contentNM !== 'get'">
        <label class="required clr-control-label"
          [ngClass]="item.require?'form-required':''">{{item.text?.toUpperCase()}}</label>
        <div class="clr-control-container" [class.clr-error]='item.require && getValidationState(item.name!)'>
          <div class="clr-input-wrapper">
            <input type="text" class="clr-input enrollment-input" required #usernameInput="ngModel" [name]="item.name!"
              [ngModel]="getFormModel(item.name!)" [placeholder]="item.placeholder" [id]="item.name!" size="30"
              (input)='handleValidation(item.name! , false) ' (blur)='handleValidation(item.name!, true)'
              [readOnly]="item.readonly == true" [required]="item.require">
            <clr-icon class="clr-validate-icon" shape="exclamation-circle"></clr-icon>
            <clr-control-error *ngIf='item.require &&  getValidationState(item.name!)'>
              Input Your
              <ng-template [ngIf]="item?.placeholder != undefined">
                ( ex : {{item.placeholder}})
              </ng-template>
            </clr-control-error>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <div class="setbtn">
      <span class="spinner spinner-inline loading-top" [hidden]="inProgress === false"> </span>
      <button type="button" id="save-button" class="btn btn-outline" (click)="create()" [disabled]="!isValid || inProgress">Create</button>
      <button type="button" class="btn btn-warning-outline" (click)="close()">Close</button>
    </div>
  </div>
</clr-modal>